const addPlacemark = (coords, balloon = {}) => {
    return new ymaps.Placemark(
        coords,
        balloon,
        {
            iconLayout: 'default#image',
            iconImageHref: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPG1hc2sgaWQ9InBhdGgtMS1vdXRzaWRlLTFfNzIzXzM1NjI2IiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSI1IiB5PSIzIiB3aWR0aD0iMzgiIGhlaWdodD0iNDMiIGZpbGw9ImJsYWNrIj4KPHJlY3QgZmlsbD0id2hpdGUiIHg9IjUiIHk9IjMiIHdpZHRoPSIzOCIgaGVpZ2h0PSI0MyIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI0LjM4OTcgNDQuMDA4M0MyNy4wMTM3IDQyLjc1NzcgNDIgMzUuMDI2NyA0MiAyMS41ODI1QzQyIDExLjg3MiAzMy45NDExIDQgMjQgNEMxNC4wNTg5IDQgNiAxMS44NzIgNiAyMS41ODI1QzYgMzUuMDI2NyAyMC45ODYzIDQyLjc1NzcgMjMuNjEwMyA0NC4wMDgzQzIzLjg2MiA0NC4xMjgyIDI0LjEzOCA0NC4xMjgyIDI0LjM4OTcgNDQuMDA4M1pNMjMuOTk5NyAyOS4yNjQ1QzI4LjI2MDIgMjkuMjY0NSAzMS43MTQgMjUuODcxMiAzMS43MTQgMjEuNjg1M0MzMS43MTQgMTcuNDk5MyAyOC4yNjAyIDE0LjEwNiAyMy45OTk3IDE0LjEwNkMxOS43MzkyIDE0LjEwNiAxNi4yODU0IDE3LjQ5OTMgMTYuMjg1NCAyMS42ODUzQzE2LjI4NTQgMjUuODcxMiAxOS43MzkyIDI5LjI2NDUgMjMuOTk5NyAyOS4yNjQ1WiIvPgo8L21hc2s+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjQuMzg5NyA0NC4wMDgzQzI3LjAxMzcgNDIuNzU3NyA0MiAzNS4wMjY3IDQyIDIxLjU4MjVDNDIgMTEuODcyIDMzLjk0MTEgNCAyNCA0QzE0LjA1ODkgNCA2IDExLjg3MiA2IDIxLjU4MjVDNiAzNS4wMjY3IDIwLjk4NjMgNDIuNzU3NyAyMy42MTAzIDQ0LjAwODNDMjMuODYyIDQ0LjEyODIgMjQuMTM4IDQ0LjEyODIgMjQuMzg5NyA0NC4wMDgzWk0yMy45OTk3IDI5LjI2NDVDMjguMjYwMiAyOS4yNjQ1IDMxLjcxNCAyNS44NzEyIDMxLjcxNCAyMS42ODUzQzMxLjcxNCAxNy40OTkzIDI4LjI2MDIgMTQuMTA2IDIzLjk5OTcgMTQuMTA2QzE5LjczOTIgMTQuMTA2IDE2LjI4NTQgMTcuNDk5MyAxNi4yODU0IDIxLjY4NTNDMTYuMjg1NCAyNS44NzEyIDE5LjczOTIgMjkuMjY0NSAyMy45OTk3IDI5LjI2NDVaIiBmaWxsPSIjNzM2MDM1Ii8+CjxwYXRoIGQ9Ik0yNC4zODk3IDQ0LjAwODNMMjQuODE5OSA0NC45MTFMMjQuODIgNDQuOTExTDI0LjM4OTcgNDQuMDA4M1pNMjMuNjEwMyA0NC4wMDgzTDI0LjA0MDUgNDMuMTA1NUwyNC4wNDA1IDQzLjEwNTVMMjMuNjEwMyA0NC4wMDgzWk00MSAyMS41ODI1QzQxIDI3LjkwODggMzcuNDc1MyAzMi45NTU5IDMzLjQ5OTggMzYuNjMzOUMyOS41MzA4IDQwLjMwNTkgMjUuMjI5OSA0Mi41MDAxIDIzLjk1OTUgNDMuMTA1NUwyNC44MiA0NC45MTFDMjYuMTczNiA0NC4yNjU4IDMwLjY3NzggNDEuOTY5MyAzNC44NTggMzguMTAyQzM5LjAzMTUgMzQuMjQwOSA0MyAyOC43MDA0IDQzIDIxLjU4MjVINDFaTTI0IDVDMzMuNDExMSA1IDQxIDEyLjQ0NjIgNDEgMjEuNTgyNUg0M0M0MyAxMS4yOTc3IDM0LjQ3MTIgMyAyNCAzVjVaTTcgMjEuNTgyNUM3IDEyLjQ0NjIgMTQuNTg4OSA1IDI0IDVWM0MxMy41Mjg4IDMgNSAxMS4yOTc3IDUgMjEuNTgyNUg3Wk0yNC4wNDA1IDQzLjEwNTVDMjIuNzcwMSA0Mi41MDAxIDE4LjQ2OTIgNDAuMzA1OSAxNC41MDAyIDM2LjYzMzlDMTAuNTI0NyAzMi45NTU5IDcgMjcuOTA4OCA3IDIxLjU4MjVINUM1IDI4LjcwMDQgOC45Njg0OSAzNC4yNDA5IDEzLjE0MiAzOC4xMDJDMTcuMzIyMiA0MS45NjkzIDIxLjgyNjQgNDQuMjY1OCAyMy4xOCA0NC45MTFMMjQuMDQwNSA0My4xMDU1Wk0yMy45NTk1IDQzLjEwNTVDMjMuOTYzNSA0My4xMDM2IDIzLjk3ODEgNDMuMDk4MiAyNCA0My4wOTgyQzI0LjAyMTkgNDMuMDk4MiAyNC4wMzY1IDQzLjEwMzYgMjQuMDQwNSA0My4xMDU1TDIzLjE4IDQ0LjkxMUMyMy43MDM5IDQ1LjE2MDYgMjQuMjk2MSA0NS4xNjA2IDI0LjgxOTkgNDQuOTExTDIzLjk1OTUgNDMuMTA1NVpNMzAuNzE0IDIxLjY4NTNDMzAuNzE0IDI1LjMwMjMgMjcuNzI0NiAyOC4yNjQ1IDIzLjk5OTcgMjguMjY0NVYzMC4yNjQ1QzI4Ljc5NTcgMzAuMjY0NSAzMi43MTQgMjYuNDQgMzIuNzE0IDIxLjY4NTNIMzAuNzE0Wk0yMy45OTk3IDE1LjEwNkMyNy43MjQ2IDE1LjEwNiAzMC43MTQgMTguMDY4MiAzMC43MTQgMjEuNjg1M0gzMi43MTRDMzIuNzE0IDE2LjkzMDUgMjguNzk1NyAxMy4xMDYgMjMuOTk5NyAxMy4xMDZWMTUuMTA2Wk0xNy4yODU0IDIxLjY4NTNDMTcuMjg1NCAxOC4wNjgyIDIwLjI3NDggMTUuMTA2IDIzLjk5OTcgMTUuMTA2VjEzLjEwNkMxOS4yMDM2IDEzLjEwNiAxNS4yODU0IDE2LjkzMDUgMTUuMjg1NCAyMS42ODUzSDE3LjI4NTRaTTIzLjk5OTcgMjguMjY0NUMyMC4yNzQ4IDI4LjI2NDUgMTcuMjg1NCAyNS4zMDIzIDE3LjI4NTQgMjEuNjg1M0gxNS4yODU0QzE1LjI4NTQgMjYuNDQgMTkuMjAzNiAzMC4yNjQ1IDIzLjk5OTcgMzAuMjY0NVYyOC4yNjQ1WiIgZmlsbD0id2hpdGUiIG1hc2s9InVybCgjcGF0aC0xLW91dHNpZGUtMV83MjNfMzU2MjYpIi8+Cjwvc3ZnPgo=',
            iconImageSize: [48, 48],
            iconImageOffset: [-24, -48],
            balloonMaxWidth: 1000,
            balloonMinWidth: 300,
            hideIconOnBalloonOpen: false
        }
    )
}

const createMap = ($el, coords, zoom = 13) => {
    return new ymaps.Map($el, {
        center: coords,
        zoom: zoom,
        controls: [
            "zoomControl"
        ]
    })
}

const initYmap = (initMap) => {
    let script = document.createElement('script');
    const lang = document.documentElement.lang === 'en' ? 'en_EN' : 'ru_RU';

    script.src = `https://api-maps.yandex.ru/2.1/?apikey=99f91afb-8db0-4a66-b863-0c9c380b92d5&lang=${lang}`;

    document.body.appendChild(script);

    script.onload = () => {
        ymaps.ready(function(){
            initMap()
        });
    }
}

export {addPlacemark, initYmap, createMap}